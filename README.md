# Urban_Sleep_disorder_Analysis

## 1. Project Introduction
**프로젝트 명: 도시는 잠들지 못한다**  
**purpose**  
도시의 환경적 특성과 생활양식이 시민의 수면 건강에 어떤 영향을 미치는지를 분석하고자 한다.  
특히, 도시화·소음·생활 패턴 등의 외부 요인이 수면장애 발생에 미치는 상관관계를 데이터 기반으로 탐색한다.  
**KeyWord**  
수면장애, 도시환경, 야간소음, 야식, 유흥시설, 활동량, 공시지가, 도시화


## 2. Data

### 2-a. Variable Definitions & Hypotheses
| Variable        | description                           | Hypotheses                         |
| ---------- | ----------------------------------- | --------------------------------------- |
| **야식 섭취**  | 야간 시간대(20\~06시) 배달 결제 빈도 및 평균 주문 금액 | 야식을 많이 섭취하는 지역일수록 수면장애 발생률이 높을 것이다.     |
| **112 신고** | 지역 내 112 신고 건수 (총신고수)               | 112 신고가 자주 발생하는 지역일수록 수면장애 발생률이 높을 것이다. |
| **활동량**    | 공공체육시설 수 대비 인구수 (인당 체육시설 수)         | 활동량이 많은 지역일수록 수면장애 발생률이 낮을 것이다.         |
| **교통량**    | 22시\~06시 차량 유입량 평균                  | 야간 교통량이 많은 지역일수록 수면장애 발생률이 높을 것이다.      |
| **유흥시설**   | 시군구별 유흥업소 수                         | 유흥시설이 밀집된 지역일수록 수면장애 발생률이 높을 것이다.       |
| **공시지가**   | 시군구별 평균 공시지가 (원/㎡)                  | 공시지가가 높은 지역일수록 수면장애 발생률이 낮을 것이다.        |

### 2-b. data source
| Variable  | Raw Dataset   | link |  file | provider  |
| ------ | ----------- | ------------ | --------------- | ------------ |
| 수면장애| 국민건강보험공단\_수면장애 관련 주상병별 진료정보 | [바로가기](https://www.data.go.kr/data/15124322/fileData.do)  | 국민건강보험공단\_수면장애 관련 주상병별 진료정보\_20231231    | 국민건강보험공단  |
| 야식 섭취| 주문 지역 인구 특성 + 지역-업종 결제정보 | [바로가기](https://bdp.kt.co.kr/invoke/SOKBP2603/?goodsCode=KGUPOPLTNINFO), [바로가기](https://bdp.kt.co.kr/invoke/SOKBP2603/?goodsCode=KGUDSTNORDER) | KGU\_2nd\_, KGU\_3rd\_    | 경기대학교 빅데이터센터 |
| 112 신고 | 신고 빈발지 데이터  | [바로가기](https://www.bigdata-policing.kr/product/view?product_id=PRDT_500)   | 범죄 빈발지 데이터 2020  | 경찰청  |
| 활동량 | 지역별공공체육시설보급현황정보  | [바로가기](https://www.bigdata-culture.kr/bigdata/user/data_market/detail.do?id=67f6b0e0-2594-11eb-af9a-4b03f0a582d6)  | 지역별공공체육시설보급현황정보(202407)   | 국민체육진흥공단  |
| 교통량 | 서울시 교통량 정보   | [바로가기](http://data.seoul.go.kr/dataList/OA-15064/F/1/datasetView.do)   | 2020 서울특별시 교통량 조사자료 | 서울특별시  |
| 유흥시설 | 유흥주점영업 인허가 정보 | [바로가기](https://www.data.go.kr/data/15045018/fileData.do), [바로가기](http://data.seoul.go.kr/dataList/OA-16090/S/1/datasetView.do)   | 행안부\_유흥업소\_20240302, 서울시\_유흥업소\_20200715 | 행정안전부, 서울특별시 |
| 공시지가 | 국토교통부\_표준지공시지가  | [바로가기](https://www.data.go.kr/data/15004246/fileData.do) | 국토교통부\_표준지공시지가\_20240101  | 국토교통부|

## 3. Data Analysis
### 3-a. preprocessing

#### 공통 전처리 기준
- **분석 대상 지역**: 서울특별시, 경기도, 인천광역시
- **사용 기간**: 주로 2021년 기준 (일부 2020년/2024년 포함)
- **지역 단위 통일**
  - `시군구2` 컬럼 생성 (`중구` → `서울중구` 등)
  - 경기/인천은 동일 시 단위 통합 → 평균값 처리
  - 중복 제거: `drop_duplicates` 적용
- **병합 기준 컬럼**: `시군구2`
---

#### 개별 항목 전처리

**💤 수면장애**    
1차 가공: 수면장애.ipynb  

- 연도: 2021년  
- 필터: `주상병명 == '비기질성 수면장애'`  
- 사용 변수: `시군구`, `진료인원(명)`  
- 처리 내용: `시군구2` 생성 및 정제

**🍔 야식 섭취**   
**1**  
1차 가공: 배달_주거특성_빈도.ipynb  
- 연도: 2020년  
- 사용 변수: `세대구성대분류명`, `빈도`  
- 처리 내용: 피벗 처리, `'다섯가구 미만'` → 5로 변환, 평균값 산출
  
**2**  
1차 가공: 배달_평균주문금액.ipynb   
- 연도: 2021년  
- 사용 변수: `평균주문금액`  
- 처리 내용: 20시~06시 야간 필터, 날짜·시간 제거, 평균 계산
  
**🏙️ 유흥시설**  
1차 가공: 인천경기_유흥업소.ipynb
(서울은 원본 데이터 사용)

- 연도: 2024년  
- 사용 변수: 유흥업소 수  
- 처리 내용: 시군구별 카운트, `시군구2` 정제

**🏃 활동량**  
1차 가공: 활동량.ipynb
  
- 연도: 2020년 9월  
- 사용 변수: `시설수`, `인구수`  
- 파생 변수: `인당시설수 = 시설수 / 인구수`  
- 처리 내용: `시군구2` 기준 정리

**💸 공시지가**   
1차 가공: 공시지가.ipynb

- 연도: 2024년 1월  
- 사용 변수: `공시지가`  
- 처리 내용: 평균값 산출, `시군구2` 정제

**🚔 112 신고**   
(원본 CSV)

- 연도: 2020년  
- 사용 변수: `총신고수`  
- 처리 내용: 필요 컬럼만 추출, `시군구2` 정제

**🚗 교통량**  
(원본 필터링)
- 연도: 2020년  
- 사용 변수: `유입 교통량`, `시간대`  
- 처리 내용: 22시~06시 평균 추출, `시군구2` 정제

#### 🔗 최종 병합  
**데이터전처리_및_통합.ipynb**  
- 병합 기준: `시군구2`
- 기준 데이터: 수면장애
- 방식: `left join`
- 결측치 처리: 평균값 보간 or 삭제
- 최종 결과: `67개 지역 × 19개 변수` 병합 테이블 (`파일병합_최종.ipynb`)

### 3.b. EDA

## 4. ML
### 3.a. ML preprocessing
### 3.b. ML model
## 5. insight


